# 🧠 ZUS KEDU file fixer
Fix ZUS KEDU files generated by inFakt by adding missing user identification document data

## ✨ Functions

- ✅ Adds missing user identification document data to ZUS KEDU file
- ✅ Handles multiple user data entries in KEDU file (located in such sections like DRA, RCA etc.)
- ✅ Automatically detects document type basing on its number
- ✅ Skips ZUS KEDU entries already containing a valid user identification document data 
- ✅ Writes changed ZUS KEDU to a new XML file unless selected otherwise

## 📦 Requirements

- Python >= 3.7
- pip
- lxml

## 🚀 Installation

```bash
git clone https://github.com/grzegorz-ozanski/kedu.git
cd kedu
pip install -r requirements.txt # Basic requirements
pip install -r requirements-dev.txt # Optional requirements for coverage tests
```

## 🛠️ Running
```bash
python drafix.py identity_document kedu_file [-h] [-n] [-d]

arguments:
  identity_document  ID card or passport number
  kedu_file          ZUS KEDU file name

options:
  -h, --help         show help message and exit
  -n, --no-backup    Does not create backup file
  -d, --debug        print patched entries
```

## 🧪 Running tests
```bash
PYTHONPATH=. python tests/tests.py
```

## 📈 Running coverage
```bash
PYTHONPATH=. python -m coverage run -m unittest discover -s tests
python -m coverage report
python -m coverage html
```

## 📁 Folder tree

```text
kedu/  
├── tests/  
│   └── tests.py  
├── zus/  
│   ├── __init__.py  
│   ├── identity_document.py  
│   └── kedu.py  
├── .gitignore  
├── .coveragerc  
├── coverage.bat  
├── README.md  
├── requirements.txt  
└── requirements-dev.txt  
```

## 🙋‍♂️ Autor
Created by Grzegorz Ożański  
License: MIT  
Feel free to submit any bugs and/or pull requests