# ğŸ§  ZUS KEDU file fixer
Fix ZUS KEDU files generated by inFakt by adding missing user identification document data

## âœ¨ Functions

- âœ… Adds missing user identification document data to ZUS KEDU file
- âœ… Handles multiple user data entries in KEDU file (located in such sections like DRA, RCA etc.)
- âœ… Automatically detects document type basing on its number
- âœ… Skips ZUS KEDU entries already containing a valid user identification document data 
- âœ… Writes changed ZUS KEDU to a new XML file unless selected otherwise

## ğŸ“¦ Requirements

- Python >= 3.7
- pip
- lxml

## ğŸš€ Installation

```bash
git clone https://github.com/grzegorz-ozanski/kedu.git
cd kedu
pip install -r requirements.txt # Basic requirements
pip install -r requirements-dev.txt # Optional requirements for coverage tests
```

## ğŸ› ï¸ Running
```bash
python drafix.py identity_document kedu_file [-h] [-n] [-d]

arguments:
  identity_document  ID card or passport number
  kedu_file          ZUS KEDU file name

options:
  -h, --help         show help message and exit
  -n, --no-backup    Does not create backup file
  -d, --debug        print patched entries
```

## ğŸ§ª Running tests
```bash
PYTHONPATH=. python tests/tests.py
```

## ğŸ“ˆ Running coverage
```bash
PYTHONPATH=. python -m coverage run -m unittest discover -s tests
python -m coverage report
python -m coverage html
```

## ğŸ“ Folder tree

kedu/  
â”œâ”€â”€ tests/  
â”‚   â””â”€â”€ tests.py  
â”œâ”€â”€ zus/  
â”‚   â”œâ”€â”€ __init__.py  
â”‚   â”œâ”€â”€ identity_document.py  
â”‚   â””â”€â”€ kedu.py  
â”œâ”€â”€ .gitignore  
â”œâ”€â”€ .coveragerc  
â”œâ”€â”€ coverage.bat  
â”œâ”€â”€ README.md  
â”œâ”€â”€ requirements.txt  
â””â”€â”€ requirements-dev.txt  

## ğŸ™‹â€â™‚ï¸ Autor
Created by Grzegorz OÅ¼aÅ„ski  
License: MIT  
Feel free to submit any bugs and/or pull requests