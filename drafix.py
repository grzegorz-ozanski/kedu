import lxml.etree as ET
import argparse

def main() -> None:
    parser = argparse.ArgumentParser(description='Fix DRA file generated by inFakt')
    parser.add_argument('dra_file', help='DRA file name')
    parser.add_argument('--id', help='Add provided Polish ID card')
    parser.add_argument('--passport', help='Add provided Polish passport')
    args = parser.parse_args()

    with open(args.dra_file, encoding='utf-8') as file:
        document = ET.parse(file)

    namespace = {'zus': document.xpath('namespace-uri(.)')}
    element = document.xpath('/zus:KEDU/zus:ZUSDRA/zus:II', namespaces=namespace)[0]

    print(ET.tostring(element, pretty_print=True).decode('utf-8'))


if __name__ == '__main__':
    main()
